---
title: Особенности платформы
category: Features
order: 1
---

### Регистрация клиентов

Клиенты могут быть зарегистрированы в платформе через менеджерский API либо в бэкофисе либо автоматически из ЛК брокера.

В качестве логина может быть уникальный ID или Email. Для входа в систему может быть использована технология OTP: клиент в ЛК брокера нажимает на кнопку входа в платформу RAMM и попадает в платформу без ввода логина и пароля.

Брокер может как сохранять в RAMM данные по клиенту (ФИО, Email, телефон и т.п.) так и использовать полностью обезличенные учетные записи.

При создании клиента могут передаваться дополнительные поля, обеспечивающие связку клиентов RAMM и ЛК брокера, информацию о партнере и т.п.&nbsp;

### Ввод и вывод средств

Ввод и вывод клиентских средств осуществляется через брокерский API RAMM либо руками через бэкофис либо автоматически из ЛК брокера при вызове соответствующих методов API. Ввод и вывод осуществляются моментально.&nbsp;

Для переводов средств в RAMM используется кошелек. В данный момент кошелек у клиента может быть всего один и валюта только USD. Планируется добавление возможности создания нескольких кошельков в разных валютах.

### Типы клиентов

Любой клиент может быть как трейдером (создавать стратегии), так и инвестором (инвестировать в чужие стратегии). Также клиенты RAMM могут быть партнерами трейдера.

Четкого разделения клиентов на трейдеров, инвесторов и партнеров в RAMM нет.

##### Трейдеры

Клиент может создать стратегию из интерфейса платформы (через клиентский API) или через ЛК брокера (менеджерский API) (если эта функция реализована в ЛК брокера).

Трейдер может создавать неограниченное количество стратегий. Просмотр и управление стратегиями происходит в клиентском интерфейсе платформы.

##### Инвесторы

Инвесторы – основная целевая аудитория RAMM. Инвестору не требуется использование какого-либо другого ПО (торговые терминалы и т.п.), весь необходимый функционал доступен в web и мобильных версиях платформы.

Основные действия инвестора (для классической модели с привлечением через рейтинг):

* Выбор стратегий из рейтинга
* Просмотр деталей стратегии
* Инвестирование с указанием
  * Суммы инвестиции
  * Задание инвестиционного профиля, состоящего из:
    * Коэффициент копирования
    * Защита (порог, при котором произойдет закрытие позиций и установка на паузу в случае получения убытков)
    * Цель (порог, при котором произойдет закрытие позиций и установка на паузу в случае получения прибыли)
* Отслеживание результата на странице Мои инвестиции.
* Смена инвестиционного профиля
* Установка на паузу/снятие с паузы (закрытие всех позиций и отключение от копирования)
* Пополнение существующих инвестиций
* Частичное снятие средств с существующих инвестиций
* Полное снятие средств с инвестиций (закрытие)
* Просмотр стейтмента

### Типы стратегий

RAMM поддерживает два типа стратегий. Во всех типах стратегий торговля происходит в торговых терминалах МТ4/5 или в других торговых платформах брокера (требуется интеграция).

##### Стратегии с управлением через торговый API

Особенности данного типа стратегий:

* Трейдер является инвестором своей стратегии. Для него создается специальный тип инвестиции.
* Инвестицию трейдера нельзя закрыть без закрытия стратегии.
* Инвестиция трейдера не может быть поставлена на паузу. Вместо этого, есть возможность поставить на паузу всю стратегию. В таком случае все позиции всех инвесторов закрываются.
* Мониторинг стратегии строится по инвестиции трейдера. Это наиболее точный вариант с точки зрения инвесторов.
* Управление стратегией производится через торговый API с авторизацией по токену стратегии.
* Токен стратегии предоставляет доступ только к возможности отправки сигналов по данной стратегии (может быть передан другому лицу для осуществления торговых операций).
* Для снятия сигналов с торговых счетов МТ4/5 используются советники.
* Советники для МТ4/5 поставляются в исходном коде, компилируются на стороне клиента при добавлении в папку.
* Советник может быть установлен на торговые счета у одного брокера, а исполнение сигналов может быть на счетах RAMM другого брокера.
* Торговый API предоставляет возможность получения текущей доходности, количества инвесторов и другую оперативную информацию по стратегии. Возможно написание приложений для трейдера (советников, индикаторов, виджетов и т.п.), которые будут использовать оперативные данные по стратегии для информирования трейдера или обратной связи для торгового робота.

##### Стратегии с управлением через менеджерский API

Особенности данного типа стратегий:

* Стратегия создается через менеджерский АПИ в ЛК брокера – привязка к конкретному реальному счету МТ4/5.
* Трейдер не обязан быть инвестором своей стратегии. Стратегия создается без дополнительного внесения средств.
* Трейдер может инвестировать в собственную стратегию, единственным отличием его инвестиции от инвестиций его клиентов будут нулевые параметры вознаграждения.
* Мониторинг стратегии может строиться:
  * по специальной скрытой сигнальной инвестиции с большим депозитом и исполнением на b-book (обеспечивает высокую точность мониторинга с точки зрения инвесторов)
  * по счету МТ4/5 с которого транслируются сигналы на данную стратегию (меньшая точность, с точки зрения инвесторов).
* Получение сигналов со счетов МТ4/5 может производиться:&nbsp;
  * на стороне RAMM при выдаче соответствующего доступа к группам МТ через менеджерский API MT
  * на стороне брокера при использовании собственного модуля, использующего менеджерский или серверный API MT.

### Исполнение сигналов

При получении торгового сигнала происходит следующее (рассмотрим простейший случай, для модели с агрегацией объемов и с единой ликвидностью для всех инвесторов):

* Расчет объемов по данному инструменту для всех активных инвесторов с учетом их эквити и настроек копирования&nbsp;
* Агрегация объемов в один ордер
* Исполнение агрегированного ордера на хедж-счете брокера
* Регистрация результата исполнения агрегированного ордера всем инвесторов с добавлением маркапов к цене и комиссии (если задано)

Исполнение производится на заданных брокером счетах хеджирования (А-Бук, Б-бук или их комбинация). Возможны гибкие настройки для разных клиентов, стратегий, конкретных инвестиций. Возможно также исполнение непосредственно на счетах каждого отдельного клиента, вместо вывода на общий счет перекрытия (премиум-сервис).

### Стопаут (срабатывание маржинкола, защиты, цели или установка на паузу)

При достижении уровня защиты/цели или снижении уровня маржи ниже заданного предела, а также при установке инвестиции на паузу происходит стопаут – закрытие всех позиций и отключение от копирования. Для возобновления копирования необходимо снять инвестицию с паузы. После снятия с паузы на инвестиции все текущие позиции стратегии открываются по рынку. Все эти действия не требуют вмешательства трейдера.

### Внесение и вывод средств с инвестиции

При внесении средств инвестором, объемы открытых позиций автоматически пересчитываются и необходимый дополнительный объем открывается автоматически.

При выводе средств инвестор должен сначала поставить инвестиции на паузу, далее он может либо снять средства частично (оставив на инвестиции необходимый минимум + невыплаченную часть вознаграждения от прибыли) или закрыть инвестицию целиком.

Эти действия не требуют вмешательства трейдера.

### Агрегация и неттинг

Для оптимизации исполнения сделок на счетах перекрытия, платформа использует механизмы неттинга и агрегации сделок.

* Агрегация. Если от разных клиентов одной компании одновременно поступают однонаправленные запросы на исполнение по одному и тому же инструменту на один и тот же счет перекрытия, то такие запросы исполняются единой сделкой совокупным объемом. Иными словами, в одном агрегированном ордере могут быть объемы инвесторов разных стратегий.
* Неттинг. В случае, если одновременно по одному инструменту есть разнонаправленные ордера (например, сигналы на открытие/закрытие позиций приходят в неторговое время), то объемы разнонаправленных ордеров могут неттинговаться между собой и на исполнение выведется только дельта, что может существенно повышать доходность брокера т.к. спред и комиссия берется с клиентов, но не выплачивается контрагенту при том, что весь объем выведен и рисков на компании нет. Режим неттинга можно управлять для каждого счета хеджирования по отдельности.

### Механизм оферт (в разработке)

Условия инвестирования устанавливаются трейдером при помощи механизма оферт. Каждая оферта содержит размер комиссии и вознаграждения. Оферты могут быть публичными и непубличными, в последнем случае доступ к инвестированию предоставляется по прямой ссылке (линку). При инвестировании через рейтинг, инвестор использует условия публичной оферты. Трейдер может создать неограниченное количество оферт, но в один момент времени публичной может быть только одна из них. При установке статуса “публичная” у оферты, предыдущая публичная оферта автоматически становится непубличной.

Непубличные оферты могут использоваться трейдерами для организации собственной партнерской программы. При создании оферты возможно указание партнера и задание его доли от всей прибыли трейдера от клиентов, пришедших по линку. Таким образом, бизнес-модель сервиса для брокера может быть как с собственным привлечением клиентов, так и привлечением клиентов через партнеров брокеров.

### Спецификации и округление лотов.

В платформе RAMM возможно использование различных условий работы с клиентами разных типов внутри одного брокера. Например, VIP клиенты могут быть выделены в отдельную категорию.

В частности, различным категориям клиентов можно предоставить разное плечо и уровень стопаута. Также могут различаться настройки торговых инструментов: точность округления лотов, индивидуальное плечо по каждому инструменту, размеры дополнительных комиссий и маркапов.

Точность округления лотов у инвесторов не обязательно должна совпадать с точностью округления на счете перекрытия. В случае, если точность не совпадает, на счете перекрытия будет накапливаться погрешность. Для исправления этой погрешности возможна установка специального скрипта, через регулярные промежутки времени сверяющего суммарную экспозицию в платформе и на счете перекрытия, и при необходимости корректирующего позиции.

### Копирование сделок по инструментам с разной спецификацией у брокера

При создании стратегии брокер может указать тэги. Если задан тэг postfix, то при исполнении на хэдж-счете будет использован данный тэг в качестве постфикса. Такое поведение нужно, если необходимо предоставить инвесторам торговые условия, идентичные торговым условиям трейдера.

Пример.&nbsp;

Трейдер1 торгует в группе MT с постфиксом .a. Трейдер2 торгует в группе MT с постфиксом .b.

При создании стратегии у первого трейдера в постфикс попало “.a”, а второму “.b”.

При исполнении агрегированных ордеров по EURUSD для Трейдер1 будет использован инструмент EURUSD.a, для Трейдер2&nbsp; EURUSD.b. Таким образом все инвесторы данных трейдеров получат соответствующие идентичные торговые условия.

### Движение средств внутри платформы.

Источником средств выступает инвестор (частный случай: инвестиция трейдера в собственную стратегию).

В платформе RAMM возможно одновременное использование нескольких видов комиссий и вознаграждений:&nbsp;

1. Вознаграждение с прибыли. Устанавливается трейдером в % при создании стратегии. Списывается со счета инвестора в конце торгового интервала, зачисляется на кошелек RAMM трейдера. Прибыль вычисляется уже после снятия всех прочих комиссий (если они есть)
2. Комиссия трейдера. Устанавливается трейдером в оферте, в USD/(миллион USD торгового оборота). Списывается с инвестора после совершения каждой сделки, зачисляется трейдеру на кошелек RAMM раз в сутки, сразу весь накопившийся за сутки объем по каждой стратегии.
3. Комиссия ликвидности. Берется со счета перекрытия (например, из МетаТрейдера), и списывается с инвесторов после каждой сделки. Если исполнение происходит агрегированным объемом, то с каждого инвестора спишется соответствующая доля комиссии.
4. Комиссия брокера. Маркап на комиссию ликвидности, его можно выставить при невозможности откорректировать комиссию непосредственно на счете перекрытия (например, если нужно установить разные комиссии разным типам клиентов). Списывается с инвесторов после каждой сделки.
5. Комиссия партнера. Устанавливается трейдером в оферте, в % от общего дохода трейдера по стратегии. Списывается с инвестора и начисляется партнеру на кошелек RAMM одновременно со списанием и начислением комиссий/вознаграждений трейдера.